{
    "id" : "6543384eda174dfe0d7b9f20",
    "name" : "test_2.js",
    "text" : "function* iterable(start = 0, func, end=Infinity) {\nlet n = start;\nwhile(n < end) {\nyield n;\nn = func(n);\n}\n}\nclass Stream {\n#iterable; // esto es para hacer que iterable sea private\nconstructor( iterable ) {\nthis.#iterable = iterable;\n}\nmap( f ) {\nfunction* gen(iterable) {\nfor (const e of iterable) {\nyield f( e );\n}\n}\nreturn new Stream( gen(this.#iterable) );\n}\n\nfilter( p ) {\nfunction* gen(iterable) {\nfor (const e of iterable)\n{\n// console.log(e);\nif( p( e ) ) yield e;\n}\n}\nreturn new Stream( gen(this.#iterable) );\n}\n\ntoList() { // Caution: can only be used with finite iterators\nreturn [...this.#iterable];\n}\ncut( n ) {\nfunction* gen(iterable) {\nlet i = 0;\nfor (const e of iterable) {\n//console.log('cut:', e);\nif (i < n) {\nyield e;\n}\nelse break;\ni++;\n}\n}\nreturn new Stream( gen(this.#iterable) );\n}\n}\n\nconst nats = new Stream( iterable(0, (n) => n + 1) );\n\n/*\nconst nats = function* = (0, (n) => n + 1) => {\nlet n = 0;\nwhile(n < end) {\nyield n;\nn = n + 1;\n}\n}\n*/\n\nconst even = nats.filter((n) => n % 2 === 0);\n\n/*\nconst even = function* = ((n) => n % 2 === 0) => {\nfor (const e of nats) {\nif (e % 2 === 0) {\nyield e;\n}\n}\n}\n*/\n\nconst evenLessThanEleven = even.filter((n) => n < 11);\n\n/\nconst evenLessThanEleven = function* = ((n) = n < 11) => {\nfor (const e of even) {\nif (e < 11) {\nyield e;\n}\n}\n}\n*/\n\nfor (const e of evenLessThanEleven.map((n) => console.log(n)).cut(10).toList()) {\n// evenLess => even => nats(1) => even(1) X>\n// evenLess => even => nats(2) => even(2) => evenLess(2) => console.log(2)\n// evenLess => even => nats(3) => even(3) => evenLess(2)\n}"
}